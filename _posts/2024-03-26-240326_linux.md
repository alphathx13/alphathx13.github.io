---
title: 240326_linux
date: 2024-03-26 12:00:00 +0800
categories: [Linux]
tags: [linux, DHCP, default gate, DNS, ip, sudo]
math: false
mermaid: true
image:
  path: assets/img/linux.png
---

<hr style="border:1px solid white">
[linux, DHCP, default gate, DNS, ip, sudo]

## DHCP
```
- Dynamic Host Configuration Protocol : 동적 호스트 구성 프로토콜
- 호스트의 IP주소와 각종 TCP/IP 프로토콜의 기본 설정을 클라이언트에게 자동적으로 제공해주는 프로토콜
```
> ![](https://velog.velcdn.com/images/alphathx/post/9d86156d-fcf2-4b5c-93f9-bdb192eae609/image.PNG)
- dhcp 설정을 확인할 수 있음

<br/><br/>

## 서브넷 마스크(subnetmask)

>![](https://velog.velcdn.com/images/alphathx/post/d58d4875-f2e7-48a8-8a5d-502787745ac5/image.PNG)
- 24 : 서브넷 마스크
- IP주소를 네트워크 포션 / 호스트 포션으로 나누는데 사용되는 숫자 조합

<br/><br/>

## default gate
> ![](https://velog.velcdn.com/images/alphathx/post/64b3ba97-07cd-472d-9cd8-a3f40189c1db/image.PNG)
- 찾아보기

<br/><br/>

## DNS
```
168.126.63.1 / 168.126.63.2
- KT의 DNS 서버
8.8.8.8 / 8.8.4.4
- Google의 DNS 서버
```
https://www.youtube.com/watch?v=6fc9NAQkcv0
https://www.youtube.com/watch?v=GK3h936Co-k

<br/><br/>

## ip 변경
```bash
ip route
ip addr
```
>![](https://velog.velcdn.com/images/alphathx/post/2be320b6-29c0-405d-be2d-69ff01ece839/image.PNG)
- ip route 와 ip addr 명령어를 통해 gateway ip와 ip, 서브넷마스크 확인
- 빨간색 : gateway ip
- 초록색 : ip와 서브넷마스크
/24 => 255.255.255.0
/8 => 255.0.0.0

<hr style="border:1px solid white">

```bash
vim /etc/sysconfig/network-scripts/ifcfg-enp0s3
```
> ![](https://velog.velcdn.com/images/alphathx/post/b550037f-2fb5-46ae-9e6d-be75a735cb6b/image.PNG)
- 랜카드 설정파일인 enp0s3를 수정
```bash
BOOTPROTO=static # dhcp 에서 static 으로 수정
IPADDR=10.0.2.16 # 제한적으로 변경가능
GATEWAY=10.0.2.2 # 정해짐
NETMASK=255.255.255.0 # 정해짐
DNS1=8.8.8.8 # 제한적으로 변경가능
DNS2=8.8.4.4 # 제한적으로 변경가능
```

<br/>

```bash
systemctl restart network
# 포트포워딩설정후
ip addr
```
> ![](https://velog.velcdn.com/images/alphathx/post/a23e01b7-c7e8-43f4-9bd7-e0d37cf85384/image.PNG)
- ip 주소를 10.0.2.15에서 10.0.2.16으로 변경하였으므로, 포트포워딩값도 같이 변경
- 이후 ip addr로 확인해보면 ip가 정상적으로 변경된것을 확인할 수 있음


<br/><br/>

## sudo
```bash
sudo updatedb
```
- 해당명령어에 대해서 root 권한으로 실행

<hr style="border:1px solid white">

> ![](https://velog.velcdn.com/images/alphathx/post/46e0abd3-eebf-4193-8eca-24d7c7162d00/image.PNG)
- sudo 명령어를 사용하기 위해서는 해당 계정에 권한이 부여되어야함

>![](https://velog.velcdn.com/images/alphathx/post/208f12cf-ea46-477b-b4eb-7a1440f4ab81/image.PNG)
- vim을 통해서 /etc/sudoers 파일을 수정하여 권한부여

> ![](https://velog.velcdn.com/images/alphathx/post/01e370d5-e4bc-4e6f-bfe7-13803aca07b0/image.PNG)
- 이제 root가 아닌 계정에서도 sudo 명령어를 통해 updatedb를 사용가능